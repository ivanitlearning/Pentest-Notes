# Enumerating Non-MySQL DBs

## SQLite

If you get an sqlite DB, you can use Kali's `sqlite3` to enumerate it.

```shell
root@Kali:~/HTB/Doctor/DBs# sqlite3 clean_site.db
SQLite version 3.27.2 2019-02-25 16:06:06
Enter ".help" for usage hints.
sqlite> .databases
main: /root/HTB/Doctor/DBs/clean_site.db
sqlite> .tables
post  user
sqlite> select * from user;
1|admin|admin@doctor.htb|default.gif|$2b$12$Tg2b8u/elwAyfQOvqvxJgOTcsbnkFANIDdv6jVXmxiWsg4IznjI0S
sqlite> select * from post;
1|Doctor blog|2020-09-18 20:48:37.55555|A free blog to share medical knowledge. Be kind!|1
```

or you can just dump the DB with `sqlite3 Audit.db .dump`

## Postgresql

Connect to it, note that here I specified a DB in advance.

```shell
root@Kali:~/HTB/Bitlab# psql -U profiles -h localhost -p 5433 profiles
Password for user profiles: 
psql (11.3 (Debian 11.3-1), server 10.4 (Ubuntu 10.4-2.pgdg18.04+1))
Type "help" for help.

profiles=>
```

List DBs available

```shell
profiles=> \list
                             List of databases
   Name    |  Owner   | Encoding | Collate | Ctype |   Access privileges   
-----------+----------+----------+---------+-------+-----------------------
 gitlab    | postgres | UTF8     | C       | C     | =Tc/postgres         +
           |          |          |         |       | postgres=CTc/postgres+
           |          |          |         |       | gitlab=CTc/postgres
 postgres  | postgres | UTF8     | C       | C     | 
 profiles  | postgres | UTF8     | C       | C     | =Tc/postgres         +
           |          |          |         |       | postgres=CTc/postgres+
           |          |          |         |       | profiles=CTc/postgres
 template0 | postgres | UTF8     | C       | C     | =c/postgres          +
           |          |          |         |       | postgres=CTc/postgres
 template1 | postgres | UTF8     | C       | C     | =c/postgres          +
           |          |          |         |       | postgres=CTc/postgres
(5 rows)
```

To change DBs

```shell
profiles=> \c gitlab
psql (11.3 (Debian 11.3-1), server 10.4 (Ubuntu 10.4-2.pgdg18.04+1))
You are now connected to database "gitlab" as user "profiles".
gitlab=>
```

List tables in DB

```shell
profiles=> \dt
          List of relations
 Schema |   Name   | Type  |  Owner   
--------+----------+-------+----------
 public | profiles | table | profiles
(1 row)
```

Select all rows in table

```shell
profiles=> SELECT * from profiles;
 id | username |        password        
----+----------+------------------------
  1 | clave    | c3NoLXN0cjBuZy1wQHNz==
(1 row)
```

